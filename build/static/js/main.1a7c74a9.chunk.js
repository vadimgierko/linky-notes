(this["webpackJsonplinky-notes"]=this["webpackJsonplinky-notes"]||[]).push([[0],{48:function(e,t,n){},56:function(e,t){},57:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n(38),s=n.n(c),o=n(13),r=(n(47),n(48),n(15)),i=n(11),l=n(2),d=Object(a.createContext)(),b=function(){return Object(a.useContext)(d)};function j(e){var t=e.children,n=Object(a.useState)({mode:"dark",color:"white",background:"rgb(13, 17, 23)"}),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(l.jsx)(d.Provider,{value:{theme:s,switchToLight:function(){return o({mode:"light",color:"black",background:"white"})},switchToDark:function(){return o({mode:"dark",color:"white",background:"rgb(13, 17, 23)"})}},children:t})}var u=n(39),g=n(25),h=n(12),m=Object(u.a)({apiKey:"AIzaSyBO2_8QOJb3muKvNWqxDfCzViDwNURiUJc",authDomain:"linky-notes-47eef.firebaseapp.com",databaseURL:"https://linky-notes-47eef-default-rtdb.firebaseio.com",projectId:"linky-notes-47eef",storageBucket:"linky-notes-47eef.appspot.com",messagingSenderId:"1067601111242",appId:"1:1067601111242:web:75f3f608656fe612ef6c33"}),O=Object(g.b)(m),f=Object(h.b)(m),x=n(3),p=n(8),y={user:null,fetchedItems:null,tags:null};function v(e,t){switch(t.type){case"set-user":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)({},t.payload)});case"set-fetched-items":return Object(p.a)(Object(p.a)({},e),{},{fetchedItems:Object(p.a)({},t.payload)});case"add-fetched-item-to-fetched-items":return Object(p.a)(Object(p.a)({},e),{},{fetchedItems:Object(p.a)(Object(p.a)({},e.fetchedItems),{},Object(x.a)({},t.payload.key,t.payload.item))});case"delete-item":var n=Object(p.a)({},e.fetchedItems);return n[t.payload.key]?delete n[t.payload.key]:console.log("Deleted item wasn't in fetched items, so no need to delete it from there."),Object(p.a)(Object(p.a)({},e),{},{fetchedItems:n});case"set-fetched-tags":return Object(p.a)(Object(p.a)({},e),{},{tags:Object(p.a)({},t.payload)});case"add-tag-to-fetched-tags":return Object(p.a)(Object(p.a)({},e),{},{tags:Object(p.a)(Object(p.a)({},e.tags),{},Object(x.a)({},t.payload.key,{tag:t.payload.tag}))});case"reset-state":return y;default:return e}}var k=Object(a.createContext)(),w=function(){return Object(a.useContext)(k)};function T(e){var t=e.children,n=Object(a.useReducer)(v,y),c=Object(i.a)(n,2),s=c[0],o=c[1];Object(a.useEffect)((function(){Object(g.c)(O,(function(e){e?(console.log("DATA WAS FETCHED: USER CREDENTIALS"),o({type:"set-user",payload:{id:e.uid,email:e.email}}),console.log("User logged in. User:",e),function(e,t){Object(h.c)(Object(h.e)(f,"items/"+e),(function(e){var n=e.val();console.log("fetched items:",n),n?(t({type:"set-fetched-items",payload:n}),console.log("DATA WAS FETCHED: ALL USER'S ITEMS.")):console.log("There are no items or smth went wrong...")}),{onlyOnce:!0})}(e.uid,o),function(e,t){Object(h.c)(Object(h.e)(f,"tags/"+e),(function(e){var n=e.val();console.log("fetched tags:",n),n?(t({type:"set-fetched-tags",payload:n}),console.log("DATA WAS FETCHED: ALL USER'S TAGS.")):console.log("There are no tags or smth went wrong...")}),{onlyOnce:!0})}(e.uid,o)):(o({type:"reset-state"}),console.log("User is logged out. Store was reset."))}))}),[]);var r={state:s,dispatch:o};return Object(l.jsx)(k.Provider,{value:r,children:t})}function N(e){var t=e.sectionName,n=e.handleLinkClick,a="notes"===t?"/":"/"+t.replace(/ /g,"-").toLowerCase();return Object(l.jsx)(o.b,{className:"nav-link",to:a,onClick:n,children:t})}function C(e){var t=e.sectionsList,n=e.handleLinkClick;return t&&t.length?Object(l.jsx)("ul",{className:"nav-links-list navbar-nav me-auto",children:t.map((function(e){return Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(N,{sectionName:e,handleLinkClick:n})},e+"-navlink")}))}):null}function I(e){var t=e.isNavCollapsed,n=e.handleNavCollapse,a=b(),c=a.theme,s=a.switchToDark,o=a.switchToLight;return Object(l.jsx)("button",{className:"light"===c.mode?"btn btn-secondary"+(t?" me-3":" d-block mt-2 w-100"):"btn btn-light"+(t?" me-3":" d-block mt-2 w-100"),type:"button",onClick:function(){"light"===c.mode?s():o(),t||n()},children:"light"===c.mode?Object(l.jsx)("i",{className:"bi bi-moon"}):Object(l.jsx)("i",{className:"bi bi-brightness-high"})})}function E(e){var t=e.user;return t?Object(l.jsx)("div",{className:"text-muted me-3",children:t.email}):null}function S(e){var t=e.link,n=e.className,a=e.handleLogButtonClick,c=e.logButtonText;return Object(l.jsx)(o.b,{to:t,type:"button",className:n,onClick:a,children:c})}function L(e){var t=e.user,n=e.isNavCollapsed,a=e.onLogButtonClick;return t?Object(l.jsx)("div",{className:"log-buttons-sections",children:Object(l.jsx)(S,{link:"/about",logButtonText:"Log out",className:n?"btn btn-outline-danger me-2":"btn btn-outline-danger d-block mt-2",handleLogButtonClick:a})}):Object(l.jsxs)("div",{className:"log-buttons-section",children:[Object(l.jsx)(S,{link:"/signin",logButtonText:"Sign In",className:n?"btn btn-outline-success me-2":"btn btn-outline-success d-block mt-2",handleLogButtonClick:a}),Object(l.jsx)(S,{link:"/signup",logButtonText:"Sign Up",className:n?"btn btn-outline-info me-2":"btn btn-outline-info d-block mt-2",handleLogButtonClick:a})]})}var A=["about","notes","tags","add note"];function U(){var e=b().theme,t=w().state,n=Object(a.useState)(!0),c=Object(i.a)(n,2),s=c[0],o=c[1],r=function(){o(!s)};return Object(l.jsx)("nav",{className:"light"===e.mode?"navbar navbar-expand-lg navbar-light bg-light fixed-top":"navbar navbar-expand-lg navbar-dark bg-dark fixed-top",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("span",{className:"navbar-brand mb-0 h1",children:"linky_notes"}),Object(l.jsx)("button",{className:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":!!s,"aria-label":"Toggle navigation",onClick:r,children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsxs)("div",{className:"".concat(s?"collapse":null," navbar-collapse"),id:"navbarColor01",children:[Object(l.jsx)(C,{sectionsList:A,handleLinkClick:function(){s||r()}}),Object(l.jsx)(E,{user:t.user}),Object(l.jsx)(I,{isNavCollapsed:s,handleNavCollapse:r}),Object(l.jsx)(L,{user:t.user,isNavCollapsed:s,onLogButtonClick:function(){t.user&&Object(g.e)(O).catch((function(e){alert(e.message)})),s||r()}})]})]})})}function D(){var e=b().theme;return Object(l.jsxs)("div",{style:{background:e.background,color:e.color},children:[Object(l.jsxs)("h1",{children:[Object(l.jsx)("strong",{children:Object(l.jsx)("em",{children:"linky_notes"})})," ","allows you to create notes with tags & sources."]}),Object(l.jsx)("h2",{children:"What you can do with the app at the moment"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"sign in/up"}),Object(l.jsxs)("li",{children:[Object(l.jsx)("strong",{children:"add, update & delete notes"})," when logged"]}),Object(l.jsxs)("li",{children:["add & delete ",Object(l.jsx)("strong",{children:"tags"})," for the notes or leave it without tags"]}),Object(l.jsxs)("li",{children:[Object(l.jsxs)("strike",{children:["add & delete ",Object(l.jsx)("strong",{children:"source"})," for my notes or leave it without source"]})," ","(comming soon - after massive rebuild from scratch, I need some time to rebuild & add the feature once again, but... you can use the app & add notes - you will add sources later by updating your existing notes ;-)"]}),Object(l.jsx)("li",{children:Object(l.jsx)("strong",{children:"search/ filter notes by tag/ tags"})}),Object(l.jsx)("li",{children:"searching mechanism generates link for each searching session, so I can navigate beetween searching sessions"}),Object(l.jsx)("li",{children:"switch dark/light mode"})]}),Object(l.jsx)("h2",{children:"Why your notes will be better thanks to linky_notes"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"your notes are linked with each other by tags"}),Object(l.jsx)("li",{children:"they are grouped by tags & sources"}),Object(l.jsx)("li",{children:"the note can have few tags, so it would be in a few keywords groups"}),Object(l.jsx)("li",{children:"you don't need to put them in folders or do any index or table of content"}),Object(l.jsx)("li",{children:"that is easy to find the particular note by choosing keywords they consist in search field"}),Object(l.jsx)("li",{children:"you are saving a tone of time to organize & efficiently use them"})]}),Object(l.jsx)("h3",{className:"text-danger",children:"NOTE! At the moment (from 23.02) I'm adapting this app to a new architecture, data layer management pattern & security rules. From 05.03 you can sign up, add, edit & delete notes, add & delete tags to them, but not adding the source. I rebuild the app basically from scratch, and now it's available not only for my personal use, like it was before, but for everyone! You can add your notes at the moment, and when I add \"add source\" feature, you can just update your notes."}),Object(l.jsx)("h2",{children:"Motivation"}),Object(l.jsx)("p",{children:"I've made this app first of all for myself. I read a lot, create a lot and... do a lot notes. I couldn't manage hunderds of my notes, so I've decided to build this app. And I'm very proud, that finally, after one year of learning web development, I've solved one of my biggest problems thanks to my own app. Now my notes will be tagged, organized & easy to filter."}),Object(l.jsx)("h2",{children:"Technologies I've used in this project"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"React 17"}),Object(l.jsx)("li",{children:"React Router 5.2"}),Object(l.jsx)("li",{children:"React Context & useContext"}),Object(l.jsx)("li",{children:"Firebase 9.1 (authentication, realtime database, storage)"}),Object(l.jsx)("li",{children:"Bootstrap 5.1"})]})]})}function B(){var e=b().theme,t=Object(a.useState)({email:"",password:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],r=function(e){e.email.replace(/\s/g,"").length&&e.password.replace(/\s/g,"").length?function(e){var t=e.email,n=e.password;Object(g.d)(O,t,n).catch((function(e){alert(e.message)}))}(e):alert("You need to complete all input fields (not only white spaces...) to sign in!")};return Object(l.jsxs)("div",{style:{background:e.background,color:e.color},children:[Object(l.jsx)("h3",{children:"Sign in!"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{className:"form-control mb-2",type:"email",placeholder:"email",onChange:function(e){return s(Object(p.a)(Object(p.a)({},c),{},{email:e.target.value}))}}),Object(l.jsx)("input",{className:"form-control mb-2",type:"password",placeholder:"password",onChange:function(e){return s(Object(p.a)(Object(p.a)({},c),{},{password:e.target.value}))}})]}),Object(l.jsx)(o.b,{to:"/",type:"button",className:"btn btn-secondary mb-2",onClick:function(){return r({email:c.email,password:c.password})},children:"Sign in"})]})}function R(e){var t=e.inputValue,n=e.handleChange,a=b().theme;return Object(l.jsx)("input",{type:"text",className:"form-control mb-2 + bg-"+a.mode+" text-"+("dark"===a.mode?"light":"dark"),value:t,placeholder:"type some tag",onChange:n})}function K(e){var t=e.tag,n=e.onTrashIconClick;return t?Object(l.jsxs)("button",{type:"button",className:"btn btn-outline-secondary mb-2 me-2",style:{borderRadius:20},children:[t.tag," ",Object(l.jsx)("i",{className:"bi bi-trash text-white m-2",style:{backgroundColor:"red",cursor:"pointer"},onClick:n})]}):null}function Y(e){var t=e.tag,n=e.link;return Object(l.jsxs)("button",{type:"button",className:"btn btn-outline-secondary mb-2 me-2",style:{borderRadius:20},children:[t," ",Object(l.jsx)(o.b,{to:n,children:Object(l.jsx)("i",{className:"bi bi-trash text-white m-2",style:{backgroundColor:"red",cursor:"pointer"}})})]})}function V(e){var t=e.search,n=e.form,c=e.existingTags,s=e.newTags,o=e.deleteExistingTag,r=e.deleteNewTag,d=w().state,b=Object(a.useState)(),j=Object(i.a)(b,2),u=j[0],g=j[1];return Object(a.useEffect)((function(){!function(e){if(e){var t=e.slice(6);if(t.length){var n=t.split("+");if(d.tags){var a=n.map((function(e){return{key:e,tag:d.tags[e].tag}}));g(a)}else console.log("There are no tags in state... Cannot get tags from search.")}else g()}else g()}(t)}),[t]),n?c&&Object.entries(c).length||s&&Object.entries(s).length?Object(l.jsxs)("div",{className:"filter-tags-list",children:[c&&Object.entries(c).length?Object.entries(c).map((function(e){return Object(l.jsx)(K,{tag:e[1],onTrashIconClick:function(){console.log("you want to delete me...",e[1].tag),o(e[0])}},e[0])})):null,s&&Object.entries(s).length?s.map((function(e){return Object(l.jsx)(K,{tag:{tag:e},onTrashIconClick:function(){console.log("you want to delete me...",e),r(e)}},e)})):null]}):Object(l.jsx)("p",{className:"filter-tags-list",children:"There are no filter tags..."}):n||u&&u.length?Object(l.jsx)("div",{className:"filter-tags-list",children:u.map((function(e){return Object(l.jsx)(Y,{tag:e.tag,link:function(){return function(e,t){var n=t.slice(6).split("+").filter((function(t){return t!==e})).join("+");return n.length?"/search?name="+n:""}(e.key,t)}},e.key)}))}):Object(l.jsx)("p",{className:"filter-tags-list",children:"There are no filter tags..."})}function F(e){var t=e.tag,n=e.onClick;return Object(l.jsx)("button",{type:"button",className:"btn btn-outline-primary mb-2 me-2",style:{borderRadius:20},onClick:n,children:t})}function M(e){var t=e.tag,n=e.link;return Object(l.jsx)(o.b,{to:n,type:"button",className:"btn btn-outline-secondary mb-2 me-2",style:{borderRadius:20},children:t})}function W(e){var t=e.inputValue,n=e.form,c=e.search,s=e.addExistingTag,o=e.addNewTag,r=e.resetInput,d=w().state,b=Object(a.useState)(),j=Object(i.a)(b,2),u=j[0],g=j[1];return Object(a.useEffect)((function(){!function(e){if(e&&e.length){if(d.tags&&Object.entries(d.tags).length){for(var t=Object.entries(d.tags),n=[],a=0;a<t.length;a++)t[a][1].tag.includes(e)&&n.push({tag:t[a][1].tag,key:t[a][0]});g(n)}}else g()}(t)}),[t]),t&&t.length?n?Object(l.jsx)("div",{className:"available-tags-list",children:u&&u.length?u.map((function(e,t){return Object(l.jsx)(F,{tag:e.tag,onClick:function(){s(e.key),r()}},e.key)})):Object(l.jsx)(F,{tag:t,onClick:function(){o(t),r()}})}):Object(l.jsx)("div",{className:"available-tags-list",children:u&&u.map((function(e){return Object(l.jsx)(M,{tag:e.tag,link:c?"/search"+c+"+"+e.key:"/search?name="+e.key},e.key)}))}):null}function z(e){var t=e.search,n=e.form,c=void 0!==n&&n,s=e.addExistingTag,o=e.addNewTag,r=e.deleteExistingTag,d=e.deleteNewTag,b=e.existingTags,j=e.newTags,u=Object(a.useState)(""),g=Object(i.a)(u,2),h=g[0],m=g[1];return Object(a.useEffect)((function(){return m("")}),[t]),Object(l.jsxs)("div",{className:"tag-search-form",children:[Object(l.jsx)(R,{inputValue:h,placeholder:"type some tag",handleChange:function(e){m(e.target.value)}}),Object(l.jsx)(V,{search:t,form:c,existingTags:b,newTags:j,deleteExistingTag:r,deleteNewTag:d}),Object(l.jsx)(W,{inputValue:h,form:c,search:t,addExistingTag:s,addNewTag:o,resetInput:function(){return m("")}})]})}function _(e){var t=e.tag,n=e.tagLink;return Object(l.jsx)(o.b,{to:n,className:"btn btn-outline-primary mb-2 me-2",style:{borderRadius:20},children:t})}function H(e){var t=e.handleOnTrashButtonClick;return Object(l.jsx)("i",{className:"bi bi-trash text-danger",style:{cursor:"pointer"},onClick:t})}function J(e){var t=e.link;return Object(l.jsx)(o.b,{to:t,children:Object(l.jsx)("i",{className:"bi bi-pencil text-info me-2"})})}function G(e){var t=e.link;return Object(l.jsx)(o.b,{to:t,children:Object(l.jsx)("i",{className:"bi bi-eye text-secondary me-2"})})}function P(e,t,n){return function(e,t){return Object(h.f)(Object(h.e)(f,"items/"+t+"/"+e)).then((function(){return console.log("Item with the key,",e," was deleted from database.")}))}(e,t).then((function(){console.log("Item with the key",e,"was deleted successfully!"),n({type:"delete-item",payload:{key:e}})})).catch((function(e){return alert(e.message)}))}function q(e){var t=e.item,n=e.itemKey,a=b().theme,c=w(),s=c.state,o=c.dispatch;return Object(l.jsxs)("div",{className:"item-card card mb-2 shadow bg-"+a.mode+("dark"===a.mode?" border-secondary":""),children:[Object(l.jsx)("div",{className:"card-header",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col text-muted",children:[t.createdAt," ",t.updatedAt?"/ "+t.updatedAt:null]}),Object(l.jsxs)("div",{className:"col text-end",children:[Object(l.jsx)(G,{link:"/notes/"+n}),Object(l.jsx)(J,{link:"/notes/update-note/"+n}),Object(l.jsx)(H,{handleOnTrashButtonClick:function(){return P(n,s.user.id,o)}})]})]})}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("p",{className:"item-content card-text",children:t.content}),Object(l.jsx)("div",{className:"item-tags",children:t.tags&&Object.entries(t.tags).map((function(e){return Object(l.jsx)(_,{tag:e[1].tag,tagLink:"/search?name="+e[0]},"item-tag-"+e[0])}))})]}),Object(l.jsx)("div",{className:"card-footer text-muted"})]})}function Q(e){var t=e.search,n=b().theme,c=w().state,s=Object(a.useState)(),o=Object(i.a)(s,2),r=o[0],d=o[1];return Object(a.useEffect)((function(){t?function(e){var t=e.slice(6);if(t.length){for(var n=t.split("+"),a=Object.keys(c.fetchedItems).filter((function(e){var t=Object.keys(c.fetchedItems[e].tags);return n.every((function(e){return t.includes(e)}))?e:null})),s={},o=0;o<a.length;o++)s=Object(p.a)(Object(p.a)({},s),{},Object(x.a)({},a[o],Object(p.a)({},c.fetchedItems[a[o]])));d(s)}else d()}(t):c.fetchedItems?d(c.fetchedItems):(console.log("There are no fetched items in state..."),d())}),[t,c]),r&&Object.entries(r).length?Object(l.jsx)("div",{style:{background:n.background,color:n.color},className:"items-list",children:Object(l.jsx)("div",{children:Object.entries(r).slice().reverse().map((function(e){var t=e[0],n=e[1];return Object(l.jsx)(q,{item:n,itemKey:t},"item-"+t)}))})}):Object(l.jsx)("p",{children:"There are no items so far..."})}function X(){var e=b().theme,t=w().state,n=Object(r.f)().search;return t.user?Object(l.jsxs)("div",{style:{background:e.background,color:e.color},className:"items-page",children:[Object(l.jsx)(z,{search:n}),Object(l.jsx)(Q,{search:n})]}):Object(l.jsx)("p",{children:"You need to be logged to see your items!"})}function Z(){var e=b().theme;return Object(l.jsxs)("div",{style:{background:e.background,color:e.color},children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("p",{className:"text-center mb-0 pb-3",children:["\xa9 2021-2022"," ",Object(l.jsx)("a",{href:"https://github.com/vadimgierko",target:"_blank",style:{textDecoration:"none"},children:"Vadim Gierko"})]})]})}var $=n(24);function ee(){var e=new Date,t=e.getUTCDate()<10?"0"+e.getUTCDate():e.getUTCDate(),n=e.getUTCMonth()+1<10?"0"+(e.getUTCMonth()+1):e.getUTCMonth()+1;return e.getUTCFullYear()+"."+n+"."+t}function te(e,t,n,a){return function(e,t,n){return Object(h.g)(Object(h.e)(f,"tags/"+t+"/"+n),{tag:e}).then((function(){return console.log("Tag",e,"was added to database under the key,",n)}))}(e,n,t).then((function(){console.log("Tag was added successfully!"),a({type:"add-tag-to-fetched-tags",payload:{key:t,tag:e}})})).catch((function(e){return alert(e.message)}))}function ne(e,t,n){var a=ee(),c=Object(p.a)(Object(p.a)({},e),{},{createdAt:a,userId:t});c.newTags&&c.newTags.length&&c.newTags.forEach((function(e){var a=Object(h.d)(Object(h.a)(Object(h.e)(f),"tags/"+t)).key;te(e,a,t,n),c=Object(p.a)(Object(p.a)({},c),{},{tags:Object(p.a)(Object(p.a)({},c.tags),{},Object(x.a)({},a,{tag:e}))})})),c.existingTags&&Object.entries(c.existingTags).length&&(c=Object(p.a)(Object(p.a)({},c),{},{tags:Object(p.a)(Object(p.a)({},c.tags),c.existingTags)})),delete c.newTags,delete c.existingTags;var s=Object(h.d)(Object(h.a)(Object(h.e)(f),"items/"+t)).key;return function(e,t,n){return Object(h.g)(Object(h.e)(f,"items/"+t+"/"+n),Object(p.a)({},e)).then((function(){return console.log("Item was added to database under the key,",n)}))}(c,t,s).then((function(){console.log("Item was added successfully!"),n({type:"add-fetched-item-to-fetched-items",payload:{key:s,item:c}})})).catch((function(e){return alert(e.message)}))}function ae(e,t,n,a){var c=ee(),s=Object(p.a)(Object(p.a)({},e),{},{updatedAt:c});return delete s.tags,s.newTags&&s.newTags.length&&s.newTags.forEach((function(e){var t=Object(h.d)(Object(h.a)(Object(h.e)(f),"tags/"+n)).key;te(e,t,n,a),s=Object(p.a)(Object(p.a)({},s),{},{tags:Object(p.a)(Object(p.a)({},s.tags),{},Object(x.a)({},t,{tag:e}))})})),s.existingTags&&Object.entries(s.existingTags).length&&(s=Object(p.a)(Object(p.a)({},s),{},{tags:Object(p.a)(Object(p.a)({},s.tags),s.existingTags)})),delete s.newTags,delete s.existingTags,function(e,t,n){return Object(h.g)(Object(h.e)(f,"items/"+n+"/"+t),Object(p.a)({},e)).then((function(){return console.log("Item was updated in database under the key,",t)}))}(s,t,n).then((function(){console.log("Item with the key",t,"was updated successfully!"),a({type:"add-fetched-item-to-fetched-items",payload:{key:t,item:s}})})).catch((function(e){return alert(e.message)}))}function ce(e){var t=e.itemKey,n=b().theme,c=w(),s=c.state,r=c.dispatch,d=Object(a.useState)(),j=Object(i.a)(d,2),u=j[0],g=j[1];return Object(a.useEffect)((function(){t?function(e){if(s.fetchedItems&&s.fetchedItems[e]){var t=s.fetchedItems[e];g(Object(p.a)(Object(p.a)({},t),{},{content:t.content,existingTags:t.tags,newTags:[]}))}}(t):g({content:"",existingTags:{},newTags:[]})}),[t]),u?Object(l.jsxs)("div",{className:"card mb-2 shadow bg-"+n.mode+("dark"===n.mode?" border-secondary":""),children:[Object(l.jsx)("div",{className:"card-header fw-bold text-center",children:t?"Update item!":"Add item!"}),Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("form",{children:[Object(l.jsx)("textarea",{className:"form-control mb-2 + bg-"+n.mode+" text-"+("dark"===n.mode?"light":"dark"),placeholder:"note content goes here",defaultValue:u?u.content:"",onChange:function(e){return g(Object(p.a)(Object(p.a)({},u),{},{content:e.target.value}))}}),Object(l.jsx)(z,{form:!0,addExistingTag:function(e){e&&g(Object(p.a)(Object(p.a)({},u),{},{existingTags:Object(p.a)(Object(p.a)({},u.existingTags),{},Object(x.a)({},e,Object(p.a)({},s.tags[e])))}))},addNewTag:function(e){e&&g(Object(p.a)(Object(p.a)({},u),{},{newTags:[].concat(Object($.a)(u.newTags),[e])}))},deleteExistingTag:function(e){if(e){var t=Object(p.a)({},u.existingTags);delete t[e],g(Object(p.a)(Object(p.a)({},u),{},{existingTags:Object(p.a)({},t)}))}},deleteNewTag:function(e){if(e){var t=u.newTags.filter((function(t){return t!==e}));g(Object(p.a)(Object(p.a)({},u),{},{newTags:t}))}},existingTags:u.existingTags,newTags:u.newTags})]})}),Object(l.jsx)("div",{className:"card-footer",children:Object(l.jsx)(o.b,{to:t?"/notes/"+t:"/",type:"button",className:"btn btn-success mb-2 d-block text-white",onClick:function(){return function(e,t){t?(console.log("updated item:",e),ae(e,t,s.user.id,r)):(console.log("added item (before calling addItem()):",e),ne(e,s.user.id,r))}(u,t)},children:t?"Update item":"Add item"})})]}):null}function se(){var e=b().theme;return w().state.user?Object(l.jsx)("div",{className:"add-item-page",style:{background:e.background,color:e.color},children:Object(l.jsx)(ce,{})}):Object(l.jsx)("p",{children:"You need to log in to add an item..."})}function oe(){var e=b().theme,t=w().state,n=Object(r.g)().itemKey;return t.user?Object(l.jsx)("div",{className:"update-item-page",style:{background:e.background,color:e.color},children:Object(l.jsx)(ce,{itemKey:n})}):Object(l.jsx)("p",{children:"You need to be logged to update item!"})}function re(){var e=b().theme,t=w().state,n=Object(r.g)().itemKey,c=Object(a.useState)(),s=Object(i.a)(c,2),o=s[0],d=s[1];return Object(a.useEffect)((function(){t.fetchedItems&&(t.fetchedItems[n]?(d(t.fetchedItems[n]),console.log("The item with the key",n,"is in fetched items, so there's no need to fetch it.")):(d(null),console.log("There is no item with the key",n,"in fetched items.")))}),[t]),o?Object(l.jsx)("div",{className:"item-page",style:{background:e.background,color:e.color},children:Object(l.jsx)(q,{item:o,itemKey:n},"item-"+n)}):Object(l.jsx)("p",{children:"Loading item or there is no such item..."})}var ie=["a","b","c","\u0107","d","e","f","g","h","i","j","k","l","\u0142","m","n","o","p","r","s","\u015b","t","u","w","v","x","y","z","\u017a","\u017c"];function le(){var e=w(),t=e.state;e.dispatch;return t.user?t.tags&&Object.entries(t.tags).length?Object(l.jsx)("div",{className:"tags-page",children:Object(l.jsx)("div",{className:"tags-list",children:ie.map((function(e){return Object(l.jsxs)("div",{className:"letter-section-in-tags-list",children:[Object(l.jsx)("h5",{children:e}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{children:Object.entries(t.tags).map((function(t){return t[1].tag[0]===e?Object(l.jsx)(_,{tagLink:"/search?name="+t[0],tag:t[1].tag},t[0]):null}))})]},e+"-section")}))})}):Object(l.jsx)("p",{children:"There are no tags so far..."}):Object(l.jsx)("p",{children:"You need to be logged to see your tags..."})}n(56);function de(){var e=b().theme,t=Object(a.useState)({email:"",password:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],r=function(e){e.email.replace(/\s/g,"").length&&e.password.replace(/\s/g,"").length?function(e){Object(g.a)(O,e.email,e.password).then((function(e){console.log("user is sign up. userCredential.user: ",e.user)})).catch((function(e){alert(e.message)}))}(e):alert("You need to complete all input fields (not only white spaces...) to create an account!")};return Object(l.jsxs)("div",{style:{background:e.background,color:e.color},children:[Object(l.jsx)("h3",{children:"Sign up!"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{className:"form-control mb-2",type:"email",placeholder:"email",onChange:function(e){return s(Object(p.a)(Object(p.a)({},c),{},{email:e.target.value}))}}),Object(l.jsx)("input",{className:"form-control mb-2",type:"password",placeholder:"password",onChange:function(e){return s(Object(p.a)(Object(p.a)({},c),{},{password:e.target.value}))}})]}),Object(l.jsx)(o.b,{to:"/",type:"button",className:"btn btn-secondary mb-2",onClick:function(){return r({email:c.email,password:c.password})},children:"Sign up"})]})}function be(){var e=b().theme,t=w().state;return Object(a.useEffect)((function(){console.log("app store:",t)}),[t]),Object(l.jsxs)("div",{className:"container-fluid",style:{background:e.background,color:e.color,minHeight:"100vh"},children:[Object(l.jsx)(U,{}),Object(l.jsxs)("div",{className:"container",style:{background:e.background,color:e.color,paddingTop:70},children:[Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{path:"/about",children:Object(l.jsx)(D,{})}),Object(l.jsx)(r.a,{path:"/signin",children:Object(l.jsx)(B,{})}),Object(l.jsx)(r.a,{path:"/signup",children:Object(l.jsx)(de,{})}),Object(l.jsx)(r.a,{exact:!0,path:"/notes/:itemKey",children:Object(l.jsx)(re,{})}),Object(l.jsx)(r.a,{path:"/tags",children:Object(l.jsx)(le,{})}),Object(l.jsx)(r.a,{path:"/add-note",children:Object(l.jsx)(se,{})}),Object(l.jsx)(r.a,{exact:!0,path:"/notes/update-note/:itemKey",children:Object(l.jsx)(oe,{})}),Object(l.jsx)(r.a,{path:"/",children:Object(l.jsx)(X,{})})]}),Object(l.jsx)(Z,{})]})]})}var je=document.getElementById("root");s.a.render(Object(l.jsx)(a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(j,{children:Object(l.jsx)(T,{children:Object(l.jsx)(be,{})})})})}),je)}},[[57,1,2]]]);
//# sourceMappingURL=main.1a7c74a9.chunk.js.map